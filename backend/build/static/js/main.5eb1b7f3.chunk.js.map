{"version":3,"sources":["components/todo-service-context/todo-service-context.js","components/hoc/with-todo-service.js","actions/index.js","components/auth/login.js","components/auth/register.js","components/auth/logout.js","components/header/index.js","components/header/header.js","components/todo-list-item/index.js","components/todo-list-item/todo-list-item.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/spiner/index.js","components/spiner/spiner.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","components/todo-list/todo-list.js","components/todo-list/index.js","components/serch-panel/search-panel.js","components/serch-panel/index.js","components/item-status-filter/item-status-filter.js","components/item-status-filter/index.js","components/item-add-form/item-add-form.js","components/item-add-form/index.js","components/app/index.js","components/app/app.js","reducers/reducer.js","reducers/index.js","store.js","index.js","services/todo-service.js"],"names":["React","createContext","TodoServiceProvider","Provider","TodoServiceConsumer","Consumer","withTodoService","Wrapped","props","todoService","fetchList","dispatch","type","getTodoList","then","res","payload","data","updateDoneCount","catch","err","listError","userLogout","userLogoutSuccess","console","log","LoginPage","state","emailVal","password1","redirect","classEmail","classPassword","this","sendLoginForm","homeRedirect","errorLogin","password","emailRegexp","to","className","id","noValidate","htmlFor","aria-describedby","onChange","e","setState","target","value","onClick","preventDefault","test","length","email","Component","connect","bindActionCreators","loginFormSubmitted","loginFormError","RegisterPage","password2","sendRegisterForm","errorRegister","registerFormSubmitted","registerFormError","Header","todo","active","done","doneCount","TodoListItem","label","important","onDoneItem","onImportantItem","onRemoveFromList","clazz","ErrorIndicator","Spiner","ErrorBoundry","hasError","children","TodoList","loading","list","error","isAuth","map","el","key","updateItem","updateImportantItem","updateImportantError","importantItem","updateDoneItem","updateDoneError","doneItem","deleteItem","itemRemuveFromList","deleteError","mapDispachToProps","onSearch","str","SearchPanel","placeholder","mapDispatchToProps","onFilterAll","onFilterActive","onFilterDone","ItemStatusFilter","ItemAddForm","onItemAddToList","addItem","itemAddSuccess","itemAddError","App","path","render","exact","component","rateDone","rateActive","filter","generalList","newList","_id","searchItemInList","toLowerCase","includes","filterListDone","filterListAll","filterListActive","message","initialState","reducer","action","todos","store","createStore","applyMiddleware","thunkMiddleware","_apiBase","a","async","axios","patch","post","put","delete","params","ReactDOM","document","getElementById"],"mappings":"geAKIA,IAAMC,gBAFEC,E,EAAVC,SACUC,E,EAAVC,SCWaC,EAZS,kBAAM,SAAAC,GAC5B,OAAO,SAAAC,GACL,OACE,kBAACJ,EAAD,MACG,SAAAK,GACC,OAAO,kBAACF,EAAD,iBAAaC,EAAb,CAAoBC,YAAaA,WCS5CC,EAAY,SAAAD,GAAW,OAAI,kBAAM,SAAAE,GACrCA,EAXO,CACLC,KAAM,uBAWRH,EACGI,cACAC,MAAK,SAAAC,GAAG,OAAIJ,EApBR,CACLC,KAAM,qBACNI,QAkBiCD,EAAIE,UACpCH,MAAK,kBAAMH,EAASO,QACpBC,OAAM,SAAAC,GAAG,OAAIT,EAZA,SAAAS,GAChB,MAAO,CACLR,KAAM,qBACNI,QAASI,GAScC,CAAUD,UA2F/BF,EAAkB,WACtB,MAAO,CACLN,KAAM,sBAmEJU,EAAa,SAAAb,GAAW,OAAI,kBAAM,SAAAE,GACtCF,EACGa,aACAR,MAAK,SAAAC,GAAG,OAAIJ,EATS,SAAAI,GACxB,MAAO,CACLH,KAAM,2BACNI,QAASD,GAMaQ,CAAkBR,OACvCI,OAAM,SAAAC,GAAG,OAAII,QAAQC,IAAIL,SClLxBM,G,iNACJC,MAAQ,CACNC,SAAU,GACVC,UAAW,GACXC,UAAU,EACVC,WAAY,eACZC,cAAe,gB,wEAGP,IAAD,SAC6CC,KAAKzB,MAAjD0B,EADD,EACCA,cAAeC,EADhB,EACgBA,aAAcC,EAD9B,EAC8BA,WAD9B,EAEmDH,KAAKN,MAAvDC,EAFD,EAECA,SAAUS,EAFX,EAEWA,SAAUN,EAFrB,EAEqBA,WAAYC,EAFjC,EAEiCA,cAClCM,EAAc,wJAsBpB,OAAIH,EACK,kBAAC,IAAD,CAAUI,GAAG,MAGlB,yBAAKC,UAAU,wBACb,yBAAKA,UAAU,0BACb,kBAAC,IAAD,CAAMD,GAAG,SAASC,UAAU,4BAA5B,SAGA,kBAAC,IAAD,CAAMD,GAAG,YAAYC,UAAU,qBAA/B,iBAIF,0BAAMC,GAAG,YAAYC,YAAU,GAC7B,yBAAKF,UAAU,cACb,2BAAOG,QAAQ,cAAf,iBACA,2BACE/B,KAAK,QACL4B,UAAWT,EACXU,GAAG,aACHG,mBAAiB,YACjBC,SAzCS,SAAAC,GACnB,EAAKC,SAAS,CAAEnB,SAAUkB,EAAEE,OAAOC,YA2C7B,yBAAKT,UAAU,cACb,2BAAOG,QAAQ,iBAAf,YACA,2BACE/B,KAAK,WACL4B,UAAWR,EACXS,GAAG,gBACHI,SA/CU,SAAAC,GACpB,EAAKC,SAAS,CAAEV,SAAUS,EAAEE,OAAOC,YAiD7B,2BAAIb,GACJ,4BACExB,KAAK,SACL4B,UAAU,gCACVU,QAnDY,SAAAJ,GACpBA,EAAEK,iBAEEb,EAAYc,KAAKxB,IAAaS,EAASgB,QAAU,EACnDnB,EAAc,CAAEoB,MAAO1B,EAAUS,cAE5BC,EAAYc,KAAKxB,GAEjB,EAAKmB,SAAS,CAAEhB,WAAY,iBAD/B,EAAKgB,SAAS,CAAEhB,WAAY,gCAE1BM,EAASgB,OAAS,EACpB,EAAKN,SAAS,CAAEf,cAAe,gCAC5B,EAAKe,SAAS,CAAEf,cAAe,oBAqChC,gB,GApEYhC,IAAMuD,YAiGfjD,MACbkD,aAhBsB,SAAC,GACvB,MAAO,CACLrB,aAFsD,EAA/BA,aAGvBC,WAHsD,EAAjBA,eAOf,SAACzB,EAAD,GAAgC,IAAnBF,EAAkB,EAAlBA,YACrC,OAAOgD,YACL,CACEvB,cAAe,SAAAjB,GAAI,OAAIN,EDmDP,SAACF,EAAaQ,GAAd,OAAuB,kBAAM,SAAAN,GACjDF,EACGyB,cAAcjB,GACdH,MAAK,SAAAC,GAAG,OAAIJ,EAjBU,SAAAI,GACzB,MAAO,CACLH,KAAM,0BACNI,QAASD,GAca2C,CAAmB3C,OACxCI,OAAM,SAAAC,GAAG,OAAIT,EAXK,SAAAS,GACrB,MAAO,CACLR,KAAM,0BACNI,QAASI,GAQcuC,CAAevC,SCvDJc,CAAczB,EAAaQ,MAE7DN,KAIF6C,CAGE9B,ICtGEkC,E,2MACJjC,MAAQ,CACNC,SAAU,GACVC,UAAW,GACXgC,UAAW,GACX/B,UAAU,EACVC,WAAY,eACZC,cAAe,gB,wEAGP,IAAD,SACmDC,KAAKzB,MAAvDsD,EADD,EACCA,iBAAkB3B,EADnB,EACmBA,aAAc4B,EADjC,EACiCA,cADjC,EAQH9B,KAAKN,MALPC,EAHK,EAGLA,SACAC,EAJK,EAILA,UACAgC,EALK,EAKLA,UACA9B,EANK,EAMLA,WACAC,EAPK,EAOLA,cAEIM,EAAc,wJA2BpB,OAAIH,EACK,kBAAC,IAAD,CAAUI,GAAG,MAGlB,yBAAKC,UAAU,wBACb,yBAAKA,UAAU,0BACb,kBAAC,IAAD,CAAMD,GAAG,SAASC,UAAU,qBAA5B,SAGA,kBAAC,IAAD,CAAMD,GAAG,YAAYC,UAAU,6BAA/B,iBAKF,0BAAMC,GAAG,gBACP,yBAAKD,UAAU,cACb,2BAAOG,QAAQ,iBAAf,iBACA,2BACE/B,KAAK,QACL4B,UAAWT,EACXU,GAAG,gBACHG,mBAAiB,YACjBK,MAAOrB,EACPiB,SAhDS,SAAAC,GACnB,EAAKC,SAAS,CAAEnB,SAAUkB,EAAEE,OAAOC,WAiD3B,2BAAOR,GAAG,YAAYD,UAAU,wBAAhC,mDAIF,yBAAKA,UAAU,cACb,2BAAOG,QAAQ,qBAAf,YACA,2BACE/B,KAAK,WACL4B,UAAWR,EACXS,GAAG,oBACHQ,MAAOpB,EACPgB,SA1DU,SAAAC,GACpB,EAAKC,SAAS,CAAElB,UAAWiB,EAAEE,OAAOC,YA4D9B,yBAAKT,UAAU,cACb,2BAAOG,QAAQ,qBAAf,YACA,2BACE/B,KAAK,WACL4B,UAAWR,EACXS,GAAG,oBACHQ,MAAOY,EACPhB,SAjEU,SAAAC,GACpB,EAAKC,SAAS,CAAEc,UAAWf,EAAEE,OAAOC,YAmE9B,2BAAIc,GAEJ,4BACEnD,KAAK,SACL4B,UAAU,gCACVU,QArEe,SAAAJ,GACvBA,EAAEK,iBAEEb,EAAYc,KAAKxB,IAAaC,GAAaA,IAAcgC,GAC3DC,EAAiB,CAAER,MAAO1B,EAAUS,SAAUR,IAC9C,EAAKkB,SAAS,CAAEjB,UAAU,MAErBQ,EAAYc,KAAKxB,GAEjB,EAAKmB,SAAS,CAAEhB,WAAY,iBAD/B,EAAKgB,SAAS,CAAEhB,WAAY,gCAE1BF,EAAUwB,OAAS,EACrB,EAAKN,SAAS,CAAEf,cAAe,gCAC5B,EAAKe,SAAS,CAAEf,cAAe,oBAsDhC,gB,GAjGehC,IAAMuD,WA8HlBjD,MACbkD,aAjBsB,SAAC,GACvB,MAAO,CACLrB,aAFyD,EAAlCA,aAGvB4B,cAHyD,EAApBA,kBAOf,SAACpD,EAAD,GAAgC,IAAnBF,EAAkB,EAAlBA,YACrC,OAAOgD,YACL,CACEK,iBAAkB,SAAA7C,GAAI,OAAIN,EF2CP,SAACF,EAAaQ,GAAd,OAAuB,kBAAM,SAAAN,GACpDF,EACGqD,iBAAiB7C,GACjBH,MAAK,SAAAC,GAAG,OAAIJ,EAfa,SAAAM,GAC5B,MAAO,CACLL,KAAM,6BACNI,QAASC,GAYa+C,CAAsBjD,EAAIE,UAC/CE,OAAM,SAAAC,GAAG,OAAIT,EAVQ,SAAAS,GACxB,MAAO,CACLR,KAAM,6BACNI,QAASI,GAOc6C,CAAkB7C,SE/CJ0C,CAAiBrD,EAAaQ,MAEnEN,KAKF6C,CAGEI,IC9GWtD,MACbkD,YACE,MAXsB,SAAC7C,EAAD,GAAgC,IAAnBF,EAAkB,EAAlBA,YACrC,OAAOgD,YACL,CACEnC,WAAYA,EAAWb,IAEzBE,KAKF6C,EApBa,SAAC,GAAoB,IAAlBlC,EAAiB,EAAjBA,WAChB,OACE,yBAAKkB,UAAU,qBACb,4BAAQA,UAAU,0BAA0BU,QAAS5B,GAArD,eCVS4C,G,MCqBAV,aAPS,SAAC,GACvB,MAAO,CACLW,KAF+C,EAAxBC,OAGvBC,KAH+C,EAAhBC,aAOpBd,EAlBA,SAAC,GAAoB,IAAlBW,EAAiB,EAAjBA,KAAME,EAAW,EAAXA,KACtB,OACE,yBAAK7B,UAAU,qBACb,yCACA,4BACG2B,EADH,gBACsBE,EADtB,cCPSE,G,YCEM,SAAC,GAQf,IAPLC,EAOI,EAPJA,MACA/B,EAMI,EANJA,GACA4B,EAKI,EALJA,KACAI,EAII,EAJJA,UACAC,EAGI,EAHJA,WACAC,EAEI,EAFJA,gBACAC,EACI,EADJA,iBAEIC,EAAQ,wCAUZ,OATIR,IACFQ,EAAQ,8CAENJ,IACFI,EAAQ,mDAENR,GAAQI,IACVI,EAAQ,wDAGR,wBAAIrC,UAAWqC,EAAOpC,GAAIA,GACxB,0BAAMD,UAAU,uBAAuBU,QAASwB,GAC7CF,GAEH,4BACE5D,KAAK,SACL4B,UAAU,kCACVU,QAASyB,GAET,uBAAGnC,UAAU,uBAEf,4BACE5B,KAAK,SACL4B,UAAU,iCACVU,QAAS0B,GAET,uBAAGpC,UAAU,sBCtCNsC,G,MCEQ,WACrB,OAAO,uCCHMC,G,MCEA,WACb,OAAO,4CCHMC,E,2MCGbrD,MAAQ,CAAEsD,UAAU,G,mFAGlBhD,KAAKc,SAAS,CAAEkC,UAAU,M,+BAI1B,OAAIhD,KAAKN,MAAMsD,SACN,kBAAC,EAAD,MAEFhD,KAAKzB,MAAM0E,a,GAXK3B,aCQrB4B,E,4LAEFlD,KAAKzB,MAAME,c,+BAGH,IAAD,EASHuB,KAAKzB,MAPP4E,EAFK,EAELA,QACAC,EAHK,EAGLA,KACAC,EAJK,EAILA,MACAC,EALK,EAKLA,OACAb,EANK,EAMLA,WACAC,EAPK,EAOLA,gBACAC,EARK,EAQLA,iBAGF,OAAIQ,EACK,kBAAC,EAAD,MAELE,EACK,kBAAC,EAAD,MAEJC,EAIH,kBAAC,EAAD,KACE,wBAAI/C,UAAU,wBACX6C,EAAKG,KAAI,SAAAC,GAAE,OACV,kBAAC,EAAD,CACEjB,MAAOiB,EAAGjB,MACVkB,IAAKD,EAAGhD,GACR4B,KAAMoB,EAAGpB,KACTI,UAAWgB,EAAGhB,UACdC,WAAY,kBAAMA,EAAWe,EAAGhD,KAChCkC,gBAAiB,kBAAMA,EAAgBc,EAAGhD,KAC1CmC,iBAAkB,kBAAMA,EAAiB,CAAEnC,GAAIgD,EAAGhD,aAbnD,kBAAC,IAAD,CAAUF,GAAG,e,GAvBHvC,IAAMuD,WCVd4B,ED4EA7E,IACbkD,aAtBsB,SAAC,GACvB,MAAO,CACL4B,QAF0D,EAAnCA,QAGvBC,KAH0D,EAA1BA,KAIhCC,MAJ0D,EAApBA,MAKtCC,OAL0D,EAAbA,WASvB,SAAC5E,EAAD,GAAgC,IAAnBF,EAAkB,EAAlBA,YACrC,OAAOgD,YACL,CACE/C,UAAWA,EAAUD,GACrBkE,gBAAiB,SAAAlC,GAAE,OAAI9B,EdiBP,SAACF,EAAagC,GAAd,OAAqB,kBAAM,SAAA9B,GAC/CF,EACGkF,WAAW,CAAElD,KAAIgC,WAAW,IAC5B3D,MAAK,SAAAC,GAAG,OAAIJ,EAfW,SAAA8B,GAC1B,MAAO,CACL7B,KAAM,wBACNI,QAASyB,GAYamD,CAAoB7E,EAAIE,KAAKwB,QAClDtB,OAAM,SAAAC,GAAG,OAAIT,EAVW,SAAAS,GAC3B,MAAO,CACLR,KAAM,qBACNI,QAASI,GAOcyE,CAAqBzE,ScrBV0E,CAAcrF,EAAagC,KAC3DiC,WAAY,SAAAjC,GAAE,OAAI9B,EdmCP,SAACF,EAAagC,GAAd,OAAqB,kBAAM,SAAA9B,GAC1CF,EACGkF,WAAW,CAAElD,KAAI4B,MAAM,IACvBvD,MAAK,SAAAC,GAAG,OAAIJ,EAfM,SAAA8B,GACrB,MAAO,CACL7B,KAAM,mBACNI,QAASyB,GAYasD,CAAehF,EAAIE,KAAKwB,QAC7C3B,MAAK,kBAAMH,EAASO,QACpBC,OAAM,SAAAC,GAAG,OAAIT,EAXM,SAAAS,GACtB,MAAO,CACLR,KAAM,gBACNI,QAASI,GAQc4E,CAAgB5E,ScxCV6E,CAASxF,EAAagC,KACjDmC,iBAAkB,SAAAnC,GAAE,OAAI9B,EdPX,SAACF,EAAagC,GAAd,OAAqB,kBAAM,SAAA9B,GAC5CF,EACGyF,WAAWzD,GACX3B,MAAK,SAAAC,GAAG,OAAIJ,EAfU,SAAA8B,GACzB,MAAO,CACL7B,KAAM,wBACNI,QAASyB,GAYa0D,CAAmBpF,EAAIE,KAAKwB,QACjDtB,OAAM,SAAAC,GAEL,OADAI,QAAQC,IAAIL,GACLT,EAZO,SAAAS,GAClB,MAAO,CACLR,KAAM,iBACNI,QAASI,GASSgF,CAAYhF,ScCK8E,CAAWzF,EAAagC,MAE3D9B,KAKF6C,CAGE2B,IEjEEkB,G,MAAoB,CACxBC,ShB4BuB,SAAAC,GACvB,MAAO,CACL3F,KAAM,sBACNI,QAASuF,MiB/CEC,EDmBAhD,aACb,iBAAO,KACP6C,EAFa7C,EAfK,SAAC,GAAkB,IAAhB8C,EAAe,EAAfA,SACrB,OACE,2BACE1F,KAAK,OACL4B,UAAU,4BACViE,YAAY,iBACZ5D,SAAU,SAAAC,GAAC,OAAIwD,EAASxD,EAAEE,OAAOC,aEUjCyD,G,MAAqB,CACzBC,YlBiGoB,WACpB,MAAO,CACL/F,KAAM,uBkBlGRgG,elBsGuB,WACvB,MAAO,CACLhG,KAAM,uBkBvGRiG,alB2GqB,WACrB,MAAO,CACLjG,KAAM,uBmBpIKkG,EDyBAtD,aACb,iBAAO,KACPkD,EAFalD,EArBU,SAAC,GAAmD,IAAjDoD,EAAgD,EAAhDA,eAAgBD,EAAgC,EAAhCA,YAAaE,EAAmB,EAAnBA,aACvD,OACE,yBAAKrE,UAAU,aACb,4BAAQU,QAASyD,EAAanE,UAAU,gBAAxC,OAGA,4BAAQU,QAAS0D,EAAgBpE,UAAU,6BAA3C,UAGA,4BAAQU,QAAS2D,EAAcrE,UAAU,6BAAzC,YENAuE,G,iNACJpF,MAAQ,CAAE4E,IAAK,I,wEAEL,IAAD,OACCS,EAAoB/E,KAAKzB,MAAzBwG,gBAYR,OACE,0BAAMxE,UAAU,wBACd,2BACEA,UAAU,eACV5B,KAAK,OACL6F,YAAY,aACZxD,MAAOhB,KAAKN,MAAM4E,IAClB1D,SAlBa,SAAAC,GACjB,EAAKC,SAAS,CAAEwD,IAAKzD,EAAEE,OAAOC,WAmB5B,4BACErC,KAAK,SACL4B,UAAU,4BACVU,QAnBU,SAAAJ,GACdA,EAAEK,iBACE,EAAKxB,MAAM4E,MACbS,EAAgB,CAAET,IAAK,EAAK5E,MAAM4E,MAClC,EAAKxD,SAAS,CAAEwD,IAAK,QAYrB,Y,GAzBkBvG,IAAMuD,YCPjBwD,EDqDAzG,IACbkD,aACE,iBAAO,MAXe,SAAC7C,EAAD,GAAgC,IAAnBF,EAAkB,EAAlBA,YACrC,OAAOgD,YACL,CACEuD,gBAAiB,SAAAT,GAAG,OAAI5F,EpBXd,SAACF,EAAaQ,GAAd,OAAuB,kBAAM,SAAAN,GAC3CF,EACGwG,QAAQhG,GACRH,MAAK,SAAAC,GAAG,OAAIJ,EAfM,SAAAI,GACrB,MAAO,CACLH,KAAM,mBACNI,QAASD,GAYamG,CAAenG,EAAIE,KAAKkD,UAC7CrD,MAAK,kBAAMH,EAASO,QACpBC,OAAM,SAAAC,GAAG,OAAIT,EAXG,SAAAS,GACnB,MAAO,CACLR,KAAM,mBACNI,QAASI,GAQc+F,CAAa/F,SoBMD6F,CAAQxG,EAAa8F,MAExD5F,KAKF6C,CAGEuD,IEzDWK,E,8NCcX,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAAK,IACLC,OAAQ,kBACN,yBAAK9E,UAAU,YACb,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,yBAAKA,UAAU,oBACb,kBAAC,EAAD,MACA,kBAAC,EAAD,OAEF,kBAAC,EAAD,MACA,kBAAC,EAAD,QAGJ+E,OAAK,IAEP,kBAAC,IAAD,CAAOF,KAAK,SAASG,UAAW9F,EAAW6F,OAAK,IAChD,kBAAC,IAAD,CAAOF,KAAK,YAAYG,UAAW5D,EAAc2D,OAAK,S,GAtB5ChE,a,wDCbZ4C,EAAqB,SAAC1D,EAAId,GAC9B,IAAI8F,EAAW,EACXC,EAAa,EAMjB,OALa/F,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGhD,KAAOA,KACtC,GAAG4B,OACVoD,EAAW,EACXC,EAAa,GAER,eACF/F,EADL,CAEE0D,KAAM1D,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGhD,KAAOA,KACxC2B,OAAQzC,EAAM0D,KAAKhC,OAAS1B,EAAM2C,UAAYoD,EAC9CpD,UAAW3C,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGpB,QAAMhB,OAASoE,EACrDG,YAAajG,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGhD,KAAOA,QAI7CyE,EAAiB,SAACjG,EAAMU,GAC5B,IAAMkG,EAAO,sBAAOlG,EAAM0D,MAAb,gBAAwBpE,EAAxB,CAA8BwB,GAAIxB,EAAK6G,QACpD,OAAO,eACFnG,EADL,CAEE0D,KAAMwC,EACNzD,OAAQzC,EAAM0D,KAAKhC,OACnBuE,YAAaC,KAIXjC,EAAsB,SAACnD,EAAId,GAC/B,OAAO,eACFA,EADL,CAEE0D,KAAM1D,EAAM0D,KAAKG,KAAI,SAAAC,GAAE,OACrBA,EAAGhD,KAAOA,EAAV,eAAoBgD,EAApB,CAAwBhB,WAAYgB,EAAGhB,YAAcgB,QAKrDM,EAAiB,SAACtD,EAAId,GAC1B,IAAI8F,EAAW,EACF9F,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGhD,KAAOA,KACtC,GAAG4B,OACVoD,GAAY,GAEd,IAAMI,EAAUlG,EAAM0D,KAAKG,KAAI,SAAAC,GAAE,OAC/BA,EAAGhD,KAAOA,EAAV,eAAoBgD,EAApB,CAAwBpB,MAAOoB,EAAGpB,OAASoB,KAE7C,OAAO,eACF9D,EADL,CAEE0D,KAAMwC,EACND,YAAaC,EACbzD,OAAQzC,EAAM0D,KAAKhC,OAAS1B,EAAM2C,UAAYmD,EAC9CnD,UAAW3C,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGpB,QAAMhB,OAASoE,KAInDvG,EAAkB,SAAAS,GACtB,OAAO,eACFA,EADL,CAEE2C,UAAW3C,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGpB,QAAMhB,OAC5Ce,OAAQzC,EAAM0D,KAAKhC,OAAS1B,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGpB,QAAMhB,UAI3D0E,GAAmB,SAACxB,EAAK5E,GAE7B,OADAA,EAAM0D,KAAO1D,EAAMiG,YACZ,eACFjG,EADL,CAEE0D,KAAM1D,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OACxBA,EAAGjB,MAAMwD,cAAcC,SAAS1B,EAAIyB,qBAKpCE,GAAiB,SAAAvG,GAErB,OADAA,EAAM0D,KAAO1D,EAAMiG,YACZ,eACFjG,EADL,CAEE0D,KAAM1D,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAIA,EAAGpB,WAI/B8D,GAAgB,SAAAxG,GACpB,OAAO,eACFA,EADL,CAEE0D,KAAM1D,EAAMiG,eAIVQ,GAAmB,SAAAzG,GAEvB,OADAA,EAAM0D,KAAO1D,EAAMiG,YACZ,eACFjG,EADL,CAEE0D,KAAM1D,EAAM0D,KAAKsC,QAAO,SAAAlC,GAAE,OAAKA,EAAGpB,WAIhCX,GAAqB,SAAC3C,EAAKY,GAC/B,OAAO,eACFA,EADL,CAEEQ,aAAcpB,EAAIE,KAAKkB,eAAgB,EACvCoD,OAAQxE,EAAIE,KAAKsE,SAAU,EAC3BnD,WAAYrB,EAAIE,KAAKoH,SAAW,QAI9BC,GAAe,CACnBjD,KAAM,GACNf,UAAW,EACXc,SAAS,EACTE,MAAO,KACPlB,OAAQ,EACRwD,YAAa,GACbzF,cAAc,EACdoD,QAAQ,EACRnD,WAAY,KACZ2B,cAAe,MChHFwE,GDmHC,WAAmC,IAAlC5G,EAAiC,uDAAzB2G,GAAcE,EAAW,uCAGhD,OAFAhH,QAAQC,IAAI+G,EAAO5H,MAEX4H,EAAO5H,MACb,IAAK,qBACH,OAAO,eACFe,EADL,CAEE0D,KAAM,GACND,SAAS,EACTE,MAAO,KACPsC,YAAa,GACbrC,QAAQ,IAEZ,IAAK,qBACH,OAAO,eACF5D,EADL,CAEE0D,KAAMmD,EAAOxH,QAAQyH,OAAS,GAC9BrD,SAAS,EACTE,MAAO,KACPsC,YAAaY,EAAOxH,QAAQyH,MAC5BlD,OAAQiD,EAAOxH,QAAQuE,OACvBpD,cAAc,IAElB,IAAK,qBACH,OAAO,eACFR,EADL,CAEE0D,KAAM,GACND,SAAS,EACTE,MAAOkD,EAAOxH,UAGlB,IAAK,mBACH,OAAOkG,EAAesB,EAAOxH,QAASW,GACxC,IAAK,wBACH,OAAOwE,EAAmBqC,EAAOxH,QAASW,GAC5C,IAAK,wBACH,OAAOiE,EAAoB4C,EAAOxH,QAASW,GAC7C,IAAK,mBACH,OAAOoE,EAAeyC,EAAOxH,QAASW,GACxC,IAAK,oBACH,OAAOT,EAAgBS,GAEzB,IAAK,sBACH,OAAOoG,GAAiBS,EAAOxH,QAASW,GAC1C,IAAK,qBACH,OAAOwG,GAAcxG,GACvB,IAAK,qBACH,OAAOyG,GAAiBzG,GAC1B,IAAK,mBACH,OAAOuG,GAAevG,GAExB,IAAK,0BACH,OAAO+B,GAAmB8E,EAAOxH,QAASW,GAC5C,IAAK,0BACH,OAAO,eACFA,EADL,CAEES,WAAY,8BAEhB,IAAK,6BACH,OAAO,eACFT,EADL,CAEEQ,aAAcqG,EAAOxH,QAAQmB,eAEjC,IAAK,6BACH,OAAO,eACFR,EADL,CAEEoC,cAAe,8BAGnB,IAAK,2BACH,OAAO,eACFpC,EADL,CAEE4D,OAAQiD,EAAOxH,QAAQuE,OACvBnD,WAAY,KACZ2B,cAAe,OAEnB,QACE,OAAOpC,IE3LE+G,GAFDC,YAAYJ,GAASK,YAAgBC,MCO7CpI,GAAc,I,iDCTlBqI,SAAW,yB,KAEXjI,YAAc,oBAAAkI,EAAAC,OAAA,2EAAAD,EAAA,MAEGE,IAAMC,MAAM,EAAKJ,WAFpB,+J,KAQd5G,cAAgB,SAAMjB,GAAN,SAAA8H,EAAAC,OAAA,2EAAAD,EAAA,MAECE,IAAME,KAAN,UAAc,EAAKL,SAAnB,SAAoC7H,IAFrC,+EAIZO,QAAQC,IAAR,MAJY,iF,KAShBqC,iBAAmB,SAAM7C,GAAN,SAAA8H,EAAAC,OAAA,2EAAAD,EAAA,MAEFE,IAAME,KAAN,UAAc,EAAKL,SAAnB,YAAuC7H,IAFrC,+J,KAQnB0E,WAAa,SAAM1E,GAAN,SAAA8H,EAAAC,OAAA,2EAAAD,EAAA,MAEIE,IAAMG,IAAN,UAAa,EAAKN,UAAY7H,IAFlC,+J,KAQbiF,WAAa,SAAMjF,GAAN,SAAA8H,EAAAC,OAAA,2EAAAD,EAAA,MAEIE,IAAMI,OAAN,UAAgB,EAAKP,UAAY,CAAEQ,OAAQrI,KAF/C,+J,KAQbgG,QAAU,SAAMhG,GAAN,SAAA8H,EAAAC,OAAA,2EAAAD,EAAA,MAEOE,IAAME,KAAN,UAAc,EAAKL,UAAY7H,IAFtC,+J,KAOVK,WAAa,oBAAAyH,EAAAC,OAAA,2EAAAD,EAAA,MAEIE,IAAMC,MAAN,UAAe,EAAKJ,SAApB,YAFJ,gKDvCfS,IAASjC,OACP,kBAAC,IAAD,CAAUoB,MAAOA,IACf,kBAAC,EAAD,KACE,kBAACxI,EAAD,CAAqB+C,MAAOxC,IAC1B,kBAAC,IAAD,KACE,kBAAC,EAAD,UAKR+I,SAASC,eAAe,W","file":"static/js/main.5eb1b7f3.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst {\r\n  Provider: TodoServiceProvider,\r\n  Consumer: TodoServiceConsumer,\r\n} = React.createContext();\r\n\r\nexport { TodoServiceProvider, TodoServiceConsumer };\r\n","import React from 'react';\r\nimport { TodoServiceConsumer } from '../todo-service-context';\r\n\r\nconst withTodoService = () => Wrapped => {\r\n  return props => {\r\n    return (\r\n      <TodoServiceConsumer>\r\n        {todoService => {\r\n          return <Wrapped {...props} todoService={todoService} />;\r\n        }}\r\n      </TodoServiceConsumer>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withTodoService;\r\n","const listLoaded = data => {\r\n  return {\r\n    type: 'FETCH_LIST_SUCCESS',\r\n    payload: data,\r\n  };\r\n};\r\nconst listRequested = () => {\r\n  return {\r\n    type: 'FETCH_LIST_REQUEST',\r\n  };\r\n};\r\nconst listError = err => {\r\n  return {\r\n    type: 'FETCH_LIST_FAILURE',\r\n    payload: err,\r\n  };\r\n};\r\nconst fetchList = todoService => () => dispatch => {\r\n  dispatch(listRequested());\r\n  todoService\r\n    .getTodoList()\r\n    .then(res => dispatch(listLoaded(res.data)))\r\n    .then(() => dispatch(updateDoneCount()))\r\n    .catch(err => dispatch(listError(err)));\r\n};\r\n\r\nconst itemAddSuccess = res => {\r\n  return {\r\n    type: 'ITEM_ADD_SUCCESS',\r\n    payload: res,\r\n  };\r\n};\r\nconst itemAddError = err => {\r\n  return {\r\n    type: 'ITEM_ADD_FAILURE',\r\n    payload: err,\r\n  };\r\n};\r\nconst addItem = (todoService, data) => () => dispatch => {\r\n  todoService\r\n    .addItem(data)\r\n    .then(res => dispatch(itemAddSuccess(res.data.todo)))\r\n    .then(() => dispatch(updateDoneCount()))\r\n    .catch(err => dispatch(itemAddError(err)));\r\n};\r\n\r\nconst searchItemInList = str => {\r\n  return {\r\n    type: 'SEARCH_ITEM_IN_LIST',\r\n    payload: str,\r\n  };\r\n};\r\n\r\nconst itemRemuveFromList = id => {\r\n  return {\r\n    type: 'ITEM_REMUVE_FROM_LIST',\r\n    payload: id,\r\n  };\r\n};\r\nconst deleteError = err => {\r\n  return {\r\n    type: 'DELETE_FAILURE',\r\n    payload: err,\r\n  };\r\n};\r\nconst deleteItem = (todoService, id) => () => dispatch => {\r\n  todoService\r\n    .deleteItem(id)\r\n    .then(res => dispatch(itemRemuveFromList(res.data.id)))\r\n    .catch(err => {\r\n      console.log(err);\r\n      return dispatch(deleteError(err));\r\n    });\r\n};\r\n\r\nconst updateImportantItem = id => {\r\n  return {\r\n    type: 'UPDATE_IMPORTANT_ITEM',\r\n    payload: id,\r\n  };\r\n};\r\nconst updateImportantError = err => {\r\n  return {\r\n    type: ' IMPORTANT_FAILURE',\r\n    payload: err,\r\n  };\r\n};\r\nconst importantItem = (todoService, id) => () => dispatch => {\r\n  todoService\r\n    .updateItem({ id, important: true })\r\n    .then(res => dispatch(updateImportantItem(res.data.id)))\r\n    .catch(err => dispatch(updateImportantError(err)));\r\n};\r\n\r\nconst updateDoneItem = id => {\r\n  return {\r\n    type: 'UPDATE_DONE_ITEM',\r\n    payload: id,\r\n  };\r\n};\r\nconst updateDoneError = err => {\r\n  return {\r\n    type: ' DONE_FAILURE',\r\n    payload: err,\r\n  };\r\n};\r\nconst doneItem = (todoService, id) => () => dispatch => {\r\n  todoService\r\n    .updateItem({ id, done: true })\r\n    .then(res => dispatch(updateDoneItem(res.data.id)))\r\n    .then(() => dispatch(updateDoneCount()))\r\n    .catch(err => dispatch(updateDoneError(err)));\r\n};\r\n\r\nconst updateDoneCount = () => {\r\n  return {\r\n    type: 'UPDATE_DONE_COUNT',\r\n  };\r\n};\r\n\r\nconst filterListAll = () => {\r\n  return {\r\n    type: 'FILTER_LIST_UPDATE',\r\n  };\r\n};\r\n\r\nconst filterListActive = () => {\r\n  return {\r\n    type: 'FILTER_LIST_ACTIVE',\r\n  };\r\n};\r\n\r\nconst filterListDone = () => {\r\n  return {\r\n    type: 'FILTER_LIST_DONE',\r\n  };\r\n};\r\n\r\nconst loginFormSubmitted = res => {\r\n  return {\r\n    type: 'SEND_LOGIN_FORM_SUCCESS',\r\n    payload: res,\r\n  };\r\n};\r\n\r\nconst loginFormError = err => {\r\n  return {\r\n    type: 'SEND_LOGIN_FORM_FAILURE',\r\n    payload: err,\r\n  };\r\n};\r\n\r\nconst sendLoginForm = (todoService, data) => () => dispatch => {\r\n  todoService\r\n    .sendLoginForm(data)\r\n    .then(res => dispatch(loginFormSubmitted(res)))\r\n    .catch(err => dispatch(loginFormError(err)));\r\n};\r\n\r\nconst registerFormSubmitted = data => {\r\n  return {\r\n    type: 'SEND_REGISTER_FORM_SUCCESS',\r\n    payload: data,\r\n  };\r\n};\r\nconst registerFormError = err => {\r\n  return {\r\n    type: 'SEND_REGISTER_FORM_FAILURE',\r\n    payload: err,\r\n  };\r\n};\r\nconst sendRegisterForm = (todoService, data) => () => dispatch => {\r\n  todoService\r\n    .sendRegisterForm(data)\r\n    .then(res => dispatch(registerFormSubmitted(res.data)))\r\n    .catch(err => dispatch(registerFormError(err)));\r\n};\r\nconst userLogoutSuccess = res => {\r\n  return {\r\n    type: 'SEND_USER_LOGOUT_SUCCESS',\r\n    payload: res,\r\n  };\r\n};\r\nconst userLogout = todoService => () => dispatch => {\r\n  todoService\r\n    .userLogout()\r\n    .then(res => dispatch(userLogoutSuccess(res)))\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport {\r\n  fetchList,\r\n  itemRemuveFromList,\r\n  updateDoneCount,\r\n  importantItem,\r\n  doneItem,\r\n  deleteItem,\r\n  addItem,\r\n  searchItemInList,\r\n  filterListActive,\r\n  filterListAll,\r\n  filterListDone,\r\n  sendLoginForm,\r\n  sendRegisterForm,\r\n  userLogout,\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { withTodoService } from '../hoc';\r\nimport { sendLoginForm } from '../../actions';\r\n\r\nimport './auth.css';\r\n\r\nclass LoginPage extends React.Component {\r\n  state = {\r\n    emailVal: '',\r\n    password1: '',\r\n    redirect: false,\r\n    classEmail: 'form-control',\r\n    classPassword: 'form-control',\r\n  };\r\n\r\n  render() {\r\n    const { sendLoginForm, homeRedirect, errorLogin } = this.props;\r\n    const { emailVal, password, classEmail, classPassword } = this.state;\r\n    const emailRegexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    const onEmailInput = e => {\r\n      this.setState({ emailVal: e.target.value });\r\n    };\r\n    const onPasswInput1 = e => {\r\n      this.setState({ password: e.target.value });\r\n    };\r\n    const onLoginSubmit = e => {\r\n      e.preventDefault();\r\n\r\n      if (emailRegexp.test(emailVal) && password.length >= 4) {\r\n        sendLoginForm({ email: emailVal, password });\r\n      } else {\r\n        if (!emailRegexp.test(emailVal))\r\n          this.setState({ classEmail: 'form-control error-validate' });\r\n        else this.setState({ classEmail: 'form-control' });\r\n        if (password.length < 4)\r\n          this.setState({ classPassword: 'form-control error-validate' });\r\n        else this.setState({ classPassword: 'form-control' });\r\n      }\r\n    };\r\n    if (homeRedirect) {\r\n      return <Redirect to=\"/\" />;\r\n    } else {\r\n      return (\r\n        <div className=\"todo-app text-center\">\r\n          <nav className=\"nav nav-pills nav-fill\">\r\n            <Link to=\"/login\" className=\"nav-item nav-link active\">\r\n              Login\r\n            </Link>\r\n            <Link to=\"/register\" className=\"nav-item nav-link\">\r\n              Registration\r\n            </Link>\r\n          </nav>\r\n          <form id=\"loginForm\" noValidate>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"loginEmail\">Email address</label>\r\n              <input\r\n                type=\"email\"\r\n                className={classEmail}\r\n                id=\"loginEmail\"\r\n                aria-describedby=\"emailHelp\"\r\n                onChange={onEmailInput}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"loginPassword\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className={classPassword}\r\n                id=\"loginPassword\"\r\n                onChange={onPasswInput1}\r\n              />\r\n            </div>\r\n            <p>{errorLogin}</p>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-secondary float-right\"\r\n              onClick={onLoginSubmit}\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ homeRedirect, errorLogin }) => {\r\n  return {\r\n    homeRedirect,\r\n    errorLogin,\r\n  };\r\n};\r\n\r\nconst mapDispachToProps = (dispatch, { todoService }) => {\r\n  return bindActionCreators(\r\n    {\r\n      sendLoginForm: data => dispatch(sendLoginForm(todoService, data)),\r\n    },\r\n    dispatch\r\n  );\r\n};\r\nexport default withTodoService()(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispachToProps\r\n  )(LoginPage)\r\n);\r\n","import React from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { withTodoService } from '../hoc';\r\nimport { sendRegisterForm } from '../../actions';\r\n\r\nclass RegisterPage extends React.Component {\r\n  state = {\r\n    emailVal: '',\r\n    password1: '',\r\n    password2: '',\r\n    redirect: false,\r\n    classEmail: 'form-control',\r\n    classPassword: 'form-control',\r\n  };\r\n\r\n  render() {\r\n    const { sendRegisterForm, homeRedirect, errorRegister } = this.props;\r\n    const {\r\n      emailVal,\r\n      password1,\r\n      password2,\r\n      classEmail,\r\n      classPassword,\r\n    } = this.state;\r\n    const emailRegexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    const onEmailInput = e => {\r\n      this.setState({ emailVal: e.target.value });\r\n    };\r\n    const onPasswInput1 = e => {\r\n      this.setState({ password1: e.target.value });\r\n    };\r\n    const onPasswInput2 = e => {\r\n      this.setState({ password2: e.target.value });\r\n    };\r\n\r\n    const onRegisterSubmit = e => {\r\n      e.preventDefault();\r\n\r\n      if (emailRegexp.test(emailVal) && password1 && password1 === password2) {\r\n        sendRegisterForm({ email: emailVal, password: password1 });\r\n        this.setState({ redirect: true });\r\n      } else {\r\n        if (!emailRegexp.test(emailVal))\r\n          this.setState({ classEmail: 'form-control error-validate' });\r\n        else this.setState({ classEmail: 'form-control' });\r\n        if (password1.length < 4)\r\n          this.setState({ classPassword: 'form-control error-validate' });\r\n        else this.setState({ classPassword: 'form-control' });\r\n      }\r\n    };\r\n    if (homeRedirect) {\r\n      return <Redirect to=\"/\" />;\r\n    } else {\r\n      return (\r\n        <div className=\"todo-app text-center\">\r\n          <nav className=\"nav nav-pills nav-fill\">\r\n            <Link to=\"/login\" className=\"nav-item nav-link\">\r\n              Login\r\n            </Link>\r\n            <Link to=\"/register\" className=\"nav-item nav-link  active\">\r\n              Registration\r\n            </Link>\r\n          </nav>\r\n\r\n          <form id=\"registerForm\">\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"registerEmail\">Email address</label>\r\n              <input\r\n                type=\"email\"\r\n                className={classEmail}\r\n                id=\"registerEmail\"\r\n                aria-describedby=\"emailHelp\"\r\n                value={emailVal}\r\n                onChange={onEmailInput}\r\n              />\r\n              <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n                We'll never share your email with anyone else.\r\n              </small>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"registerPassword1\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className={classPassword}\r\n                id=\"registerPassword1\"\r\n                value={password1}\r\n                onChange={onPasswInput1}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"registerPassword2\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                className={classPassword}\r\n                id=\"registerPassword2\"\r\n                value={password2}\r\n                onChange={onPasswInput2}\r\n              />\r\n            </div>\r\n            <p>{errorRegister}</p>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-secondary float-right\"\r\n              onClick={onRegisterSubmit}\r\n            >\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = ({ homeRedirect, errorRegister }) => {\r\n  return {\r\n    homeRedirect,\r\n    errorRegister,\r\n  };\r\n};\r\n\r\nconst mapDispachToProps = (dispatch, { todoService }) => {\r\n  return bindActionCreators(\r\n    {\r\n      sendRegisterForm: data => dispatch(sendRegisterForm(todoService, data)),\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default withTodoService()(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispachToProps\r\n  )(RegisterPage)\r\n);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { withTodoService } from '../hoc';\r\nimport { userLogout } from '../../actions';\r\n\r\nimport './auth.css';\r\n\r\nconst Logout = ({ userLogout }) => {\r\n  return (\r\n    <div className=\"app-logout d-flex\">\r\n      <button className=\"btn btn-outline-warning\" onClick={userLogout}>\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispachToProps = (dispatch, { todoService }) => {\r\n  return bindActionCreators(\r\n    {\r\n      userLogout: userLogout(todoService),\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default withTodoService()(\r\n  connect(\r\n    null,\r\n    mapDispachToProps\r\n  )(Logout)\r\n);\r\n","import Header from './header';\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './header.css';\r\n\r\nconst Header = ({ todo, done }) => {\r\n  return (\r\n    <div className=\"app-header d-flex\">\r\n      <h1>Todo List</h1>\r\n      <h2>\r\n        {todo} more to do, {done} done\r\n      </h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ active, doneCount }) => {\r\n  return {\r\n    todo: active,\r\n    done: doneCount,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import TodoListItem from './todo-list-item';\r\n\r\nexport default TodoListItem;\r\n","import React from 'react';\r\n\r\nimport './todo-list-item.css';\r\n\r\nconst TodoListItem = ({\r\n  label,\r\n  id,\r\n  done,\r\n  important,\r\n  onDoneItem,\r\n  onImportantItem,\r\n  onRemoveFromList,\r\n}) => {\r\n  let clazz = 'list-group-item todo-list-item d-flex';\r\n  if (done) {\r\n    clazz = 'list-group-item todo-list-item d-flex done';\r\n  }\r\n  if (important) {\r\n    clazz = 'list-group-item todo-list-item d-flex important';\r\n  }\r\n  if (done && important) {\r\n    clazz = 'list-group-item todo-list-item done d-flex important';\r\n  }\r\n  return (\r\n    <li className={clazz} id={id}>\r\n      <span className=\"todo-list-item-label\" onClick={onDoneItem}>\r\n        {label}\r\n      </span>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-success btn-sm \"\r\n        onClick={onImportantItem}\r\n      >\r\n        <i className=\"fa fa-exclamation\" />\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-danger btn-sm \"\r\n        onClick={onRemoveFromList}\r\n      >\r\n        <i className=\"fa fa-trash-o\" />\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default TodoListItem;\r\n","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;\r\n","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n  return <h2>Error</h2>;\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","import Spiner from './spiner';\r\n\r\nexport default Spiner;\r\n","import React from 'react';\r\n\r\nimport './spiner.css';\r\n\r\nconst Spiner = () => {\r\n  return <h2>Loading...</h2>;\r\n};\r\n\r\nexport default Spiner;\r\n","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;\r\n","import React, { Component } from 'react';\r\n\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nclass ErrorBoundry extends Component {\r\n  state = { hasError: false };\r\n\r\n  componentDidCatch() {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />;\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundry;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport './todo-list.css';\r\nimport TodoListItem from '../todo-list-item';\r\nimport { withTodoService } from '../hoc';\r\nimport { fetchList, doneItem, importantItem, deleteItem } from '../../actions';\r\nimport ErrorIndicator from '../error-indicator';\r\nimport Spiner from '../spiner';\r\nimport ErrorBoundry from '../error-boundry';\r\nclass TodoList extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchList();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      loading,\r\n      list,\r\n      error,\r\n      isAuth,\r\n      onDoneItem,\r\n      onImportantItem,\r\n      onRemoveFromList,\r\n    } = this.props;\r\n\r\n    if (loading) {\r\n      return <Spiner />;\r\n    }\r\n    if (error) {\r\n      return <ErrorIndicator />;\r\n    }\r\n    if (!isAuth) {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n    return (\r\n      <ErrorBoundry>\r\n        <ul className=\"list-group todo-list\">\r\n          {list.map(el => (\r\n            <TodoListItem\r\n              label={el.label}\r\n              key={el.id}\r\n              done={el.done}\r\n              important={el.important}\r\n              onDoneItem={() => onDoneItem(el.id)}\r\n              onImportantItem={() => onImportantItem(el.id)}\r\n              onRemoveFromList={() => onRemoveFromList({ id: el.id })}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </ErrorBoundry>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ loading, list, error, isAuth }) => {\r\n  return {\r\n    loading,\r\n    list,\r\n    error,\r\n    isAuth,\r\n  };\r\n};\r\n\r\nconst mapDispachToProps = (dispatch, { todoService }) => {\r\n  return bindActionCreators(\r\n    {\r\n      fetchList: fetchList(todoService),\r\n      onImportantItem: id => dispatch(importantItem(todoService, id)),\r\n      onDoneItem: id => dispatch(doneItem(todoService, id)),\r\n      onRemoveFromList: id => dispatch(deleteItem(todoService, id)),\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default withTodoService()(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispachToProps\r\n  )(TodoList)\r\n);\r\n","import TodoList from './todo-list';\r\n\r\nexport default TodoList;\r\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { searchItemInList } from '../../actions';\n\nimport './search-panel.css';\n\nconst SearchPanel = ({ onSearch }) => {\n  return (\n    <input\n      type=\"text\"\n      className=\"form-control search-input\"\n      placeholder=\"type to search\"\n      onChange={e => onSearch(e.target.value)}\n    />\n  );\n};\n\nconst mapDispachToProps = {\n  onSearch: searchItemInList,\n};\n\nexport default connect(\n  () => ({}),\n  mapDispachToProps\n)(SearchPanel);\n","import SearchPanel from './search-panel';\n\nexport default SearchPanel;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { filterListActive, filterListAll, filterListDone } from '../../actions';\n\nimport './item-status-filter.css';\n\nconst ItemStatusFilter = ({ onFilterActive, onFilterAll, onFilterDone }) => {\n  return (\n    <div className=\"btn-group\">\n      <button onClick={onFilterAll} className=\"btn btn-info\">\n        All\n      </button>\n      <button onClick={onFilterActive} className=\"btn btn-outline-secondary\">\n        Active\n      </button>\n      <button onClick={onFilterDone} className=\"btn btn-outline-secondary\">\n        Done\n      </button>\n    </div>\n  );\n};\n\nconst mapDispatchToProps = {\n  onFilterAll: filterListAll,\n  onFilterActive: filterListActive,\n  onFilterDone: filterListDone,\n};\nexport default connect(\n  () => ({}),\n  mapDispatchToProps\n)(ItemStatusFilter);\n","import ItemStatusFilter from './item-status-filter';\n\nexport default ItemStatusFilter;\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport { withTodoService } from '../hoc';\r\nimport { addItem } from '../../actions';\r\n\r\nimport './item-add-form.css';\r\n\r\nclass ItemAddForm extends React.Component {\r\n  state = { str: '' };\r\n\r\n  render() {\r\n    const { onItemAddToList } = this.props;\r\n    const inputValue = e => {\r\n      this.setState({ str: e.target.value });\r\n    };\r\n\r\n    const addItem = e => {\r\n      e.preventDefault();\r\n      if (this.state.str) {\r\n        onItemAddToList({ str: this.state.str });\r\n        this.setState({ str: '' });\r\n      }\r\n    };\r\n    return (\r\n      <form className=\"item-add-form d-flex\">\r\n        <input\r\n          className=\"form-control\"\r\n          type=\"text\"\r\n          placeholder=\"What next?\"\r\n          value={this.state.str}\r\n          onChange={inputValue}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn btn-outline-secondary\"\r\n          onClick={addItem}\r\n        >\r\n          Add\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispachToProps = (dispatch, { todoService }) => {\r\n  return bindActionCreators(\r\n    {\r\n      onItemAddToList: str => dispatch(addItem(todoService, str)),\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default withTodoService()(\r\n  connect(\r\n    () => ({}),\r\n    mapDispachToProps\r\n  )(ItemAddForm)\r\n);\r\n","import ItemAddForm from './item-add-form';\r\n\r\nexport default ItemAddForm;\r\n","import App from './app';\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport './app.css';\r\n\r\nimport { Logout } from '../auth';\r\nimport Header from '../header';\r\nimport TodoList from '../todo-list';\r\nimport SearchPanel from '../serch-panel';\r\nimport ItemStatusFilter from '../item-status-filter';\r\nimport ItemAddForm from '../item-add-form';\r\nimport { LoginPage, RegisterPage } from '../auth';\r\n\r\nclass App extends Component {\r\n  componentDidMount() {}\r\n  render() {\r\n    return (\r\n      <Switch>\r\n        <Route\r\n          path=\"/\"\r\n          render={() => (\r\n            <div className=\"todo-app\">\r\n              <Logout />\r\n              <Header />\r\n              <div className=\"top-panel d-flex\">\r\n                <SearchPanel />\r\n                <ItemStatusFilter />\r\n              </div>\r\n              <TodoList />\r\n              <ItemAddForm />\r\n            </div>\r\n          )}\r\n          exact\r\n        />\r\n        <Route path=\"/login\" component={LoginPage} exact />\r\n        <Route path=\"/register\" component={RegisterPage} exact />\r\n      </Switch>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const itemRemuveFromList = (id, state) => {\r\n  let rateDone = 0;\r\n  let rateActive = 1;\r\n  const elem = state.list.filter(el => el.id === id);\r\n  if (elem[0].done) {\r\n    rateDone = 1;\r\n    rateActive = 0;\r\n  }\r\n  return {\r\n    ...state,\r\n    list: state.list.filter(el => el.id !== id),\r\n    active: state.list.length - state.doneCount - rateActive,\r\n    doneCount: state.list.filter(el => el.done).length - rateDone,\r\n    generalList: state.list.filter(el => el.id !== id),\r\n  };\r\n};\r\n\r\nconst itemAddSuccess = (data, state) => {\r\n  const newList = [...state.list, { ...data, id: data._id }];\r\n  return {\r\n    ...state,\r\n    list: newList,\r\n    active: state.list.length,\r\n    generalList: newList,\r\n  };\r\n};\r\n\r\nconst updateImportantItem = (id, state) => {\r\n  return {\r\n    ...state,\r\n    list: state.list.map(el =>\r\n      el.id === id ? { ...el, important: !el.important } : el\r\n    ),\r\n  };\r\n};\r\n\r\nconst updateDoneItem = (id, state) => {\r\n  let rateDone = 1;\r\n  const elem = state.list.filter(el => el.id === id);\r\n  if (elem[0].done) {\r\n    rateDone = -1;\r\n  }\r\n  const newList = state.list.map(el =>\r\n    el.id === id ? { ...el, done: !el.done } : el\r\n  );\r\n  return {\r\n    ...state,\r\n    list: newList,\r\n    generalList: newList,\r\n    active: state.list.length - state.doneCount - rateDone,\r\n    doneCount: state.list.filter(el => el.done).length + rateDone,\r\n  };\r\n};\r\n\r\nconst updateDoneCount = state => {\r\n  return {\r\n    ...state,\r\n    doneCount: state.list.filter(el => el.done).length,\r\n    active: state.list.length - state.list.filter(el => el.done).length,\r\n  };\r\n};\r\n\r\nconst searchItemInList = (str, state) => {\r\n  state.list = state.generalList;\r\n  return {\r\n    ...state,\r\n    list: state.list.filter(el =>\r\n      el.label.toLowerCase().includes(str.toLowerCase())\r\n    ),\r\n  };\r\n};\r\n\r\nconst filterListDone = state => {\r\n  state.list = state.generalList;\r\n  return {\r\n    ...state,\r\n    list: state.list.filter(el => el.done),\r\n  };\r\n};\r\n\r\nconst filterListAll = state => {\r\n  return {\r\n    ...state,\r\n    list: state.generalList,\r\n  };\r\n};\r\n\r\nconst filterListActive = state => {\r\n  state.list = state.generalList;\r\n  return {\r\n    ...state,\r\n    list: state.list.filter(el => !el.done),\r\n  };\r\n};\r\n\r\nconst loginFormSubmitted = (res, state) => {\r\n  return {\r\n    ...state,\r\n    homeRedirect: res.data.homeRedirect || false,\r\n    isAuth: res.data.isAuth || false,\r\n    errorLogin: res.data.message || null,\r\n  };\r\n};\r\n\r\nconst initialState = {\r\n  list: [],\r\n  doneCount: 0,\r\n  loading: true,\r\n  error: null,\r\n  active: 0,\r\n  generalList: [],\r\n  homeRedirect: false,\r\n  isAuth: true,\r\n  errorLogin: null,\r\n  errorRegister: null,\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  console.log(action.type);\r\n\r\n  switch (action.type) {\r\n    case 'FETCH_LIST_REQUEST':\r\n      return {\r\n        ...state,\r\n        list: [],\r\n        loading: true,\r\n        error: null,\r\n        generalList: [],\r\n        isAuth: true,\r\n      };\r\n    case 'FETCH_LIST_SUCCESS':\r\n      return {\r\n        ...state,\r\n        list: action.payload.todos || [],\r\n        loading: false,\r\n        error: null,\r\n        generalList: action.payload.todos,\r\n        isAuth: action.payload.isAuth,\r\n        homeRedirect: false,\r\n      };\r\n    case 'FETCH_LIST_FAILURE':\r\n      return {\r\n        ...state,\r\n        list: [],\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n\r\n    case 'ITEM_ADD_SUCCESS':\r\n      return itemAddSuccess(action.payload, state);\r\n    case 'ITEM_REMUVE_FROM_LIST':\r\n      return itemRemuveFromList(action.payload, state);\r\n    case 'UPDATE_IMPORTANT_ITEM':\r\n      return updateImportantItem(action.payload, state);\r\n    case 'UPDATE_DONE_ITEM':\r\n      return updateDoneItem(action.payload, state);\r\n    case 'UPDATE_DONE_COUNT':\r\n      return updateDoneCount(state);\r\n\r\n    case 'SEARCH_ITEM_IN_LIST':\r\n      return searchItemInList(action.payload, state);\r\n    case 'FILTER_LIST_UPDATE':\r\n      return filterListAll(state);\r\n    case 'FILTER_LIST_ACTIVE':\r\n      return filterListActive(state);\r\n    case 'FILTER_LIST_DONE':\r\n      return filterListDone(state);\r\n\r\n    case 'SEND_LOGIN_FORM_SUCCESS':\r\n      return loginFormSubmitted(action.payload, state);\r\n    case 'SEND_LOGIN_FORM_FAILURE':\r\n      return {\r\n        ...state,\r\n        errorLogin: 'ERR_INTERNET_DISCONNECTED',\r\n      };\r\n    case 'SEND_REGISTER_FORM_SUCCESS':\r\n      return {\r\n        ...state,\r\n        homeRedirect: action.payload.homeRedirect,\r\n      };\r\n    case 'SEND_REGISTER_FORM_FAILURE':\r\n      return {\r\n        ...state,\r\n        errorRegister: 'ERR_INTERNET_DISCONNECTED',\r\n      };\r\n\r\n    case 'SEND_USER_LOGOUT_SUCCESS':\r\n      return {\r\n        ...state,\r\n        isAuth: action.payload.isAuth,\r\n        errorLogin: null,\r\n        errorRegister: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import reducer from './reducer';\r\n\r\nexport default reducer;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport App from './components/app';\r\nimport ErrorBoundry from './components/error-boundry';\r\nimport TodoService from './services/todo-service';\r\nimport { TodoServiceProvider } from './components/todo-service-context';\r\n\r\nimport store from './store';\r\n\r\nconst todoService = new TodoService();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ErrorBoundry>\r\n      <TodoServiceProvider value={todoService}>\r\n        <Router>\r\n          <App />\r\n        </Router>\r\n      </TodoServiceProvider>\r\n    </ErrorBoundry>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","import axios from 'axios';\r\n\r\nexport default class TodoService {\r\n  _apiBase = 'http://localhost:8888/';\r\n\r\n  getTodoList = async () => {\r\n    try {\r\n      return await axios.patch(this._apiBase);\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  sendLoginForm = async data => {\r\n    try {\r\n      return await axios.post(`${this._apiBase}login`, data);\r\n    } catch (error) {\r\n      console.log(error);\r\n      return error;\r\n    }\r\n  };\r\n\r\n  sendRegisterForm = async data => {\r\n    try {\r\n      return await axios.post(`${this._apiBase}register`, data);\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  updateItem = async data => {\r\n    try {\r\n      return await axios.put(`${this._apiBase}`, data);\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  deleteItem = async data => {\r\n    try {\r\n      return await axios.delete(`${this._apiBase}`, { params: data });\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n\r\n  addItem = async data => {\r\n    try {\r\n      return await axios.post(`${this._apiBase}`, data);\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n  userLogout = async () => {\r\n    try {\r\n      return await axios.patch(`${this._apiBase}logout`);\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  };\r\n}\r\n"],"sourceRoot":""}